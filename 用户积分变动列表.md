#用户积分变动列表
- 1、积分列表   
	该业务操作的表有point_log、order_snapshot，主要流程如下：
	<pre>// 通过userId查询point_log表
	List pointLogList = pointLogService.selectByUserid(userId)；
	select * from point_log where user_id = userId and is_deleted = 0 order by id desc limit begin, 10;
	if(pointLogList==null){throw new RuntimeException};//用户未开通积分业务
	List<PointVo> pointVoList = new ArrayList();
	if(pointLogList.size() < 10) {pointVoList.setIsEnd(true)};
	for(pointLog : pointLogList) {
		PointVo vo = new PointVO();// vo
		vo.setPointLogId(pointLog.id);// 积分日志id
		vo.setIntegraFloat("+" + pointLog.getIntegraFloat());// 浮动积分
		String type = isOperationType(pointLog.getOperationType());// 获取操作类型
		vo.setDescribe(type + "帖子获得积分");
		vo.setorderId(pointLog.getOrderId());
		if(pointLog.getFloatStatus == 1){// 表示为减少
			OderSnapshot snapshot = orderSnapshotService.getByOrderId(pointLog.getOrderId());// 获取订单快照
			vo.setIntegraFloat("-" + pointLog.getIntegraFloat());// 浮动积分
			vo.setDescribe(type + "商品" + snapshot.getItemName() + "使用了积分");
			vo.setOrderSnapshotId(snapshot.id);// 订单快照id
		}
		vo.setTime(pointLog.getCreateTime());// 获取时间
		pointVoList.add(vo);
	}
	return pointVoList;// 订单列表
	</pre>


#用户积分变动详情
- 1、积分详情   
	该业务操作的表有point_log、order_snapshot，主要流程如下：
	<pre>
	PointLog pointLog = PointLogService.getById(pointLogId);
	select * from point_log where id = pointLogId and is deleted = 0;
	PointVo vo = new PointVo();
	vo.setIntegraFloat("+" + pointLog.getIntegraFloat());// 浮动积分
	String type = isOperationType(pointLog.getOperationType());// 获取操作类型
	vo.setTime(pointLog.getCreateTime());// 获取时间
	if(pointLog.getFloatStatus == 1){// 表示为减少
		OderSnapshot snapshot = orderSnapshotService.getById(orderSnapshotId);// 从订单快照获取商品信息
		vo.setItemName(snapshot.getItemName());
		vo.setItemIntroduce(snapshot.getIntroduce());
		vo.setModel(snapshot.getModel());
		vo.setItemNum(snapshot.getItemNumber());
		vo.setImage(snapshot.getImage);
		vo.setPrice(snapshot.getPrice());
		vo.setTotalPrice(snapshot.getTotalPrice());
		vo.setIntegraFloat("-" + pointLog.getIntegraFloat());// 浮动积分
	}
	return vo;// 订单详情
	</pre>