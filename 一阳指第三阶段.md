# 一阳指——第四课

###  1、tomcat和nginx

1.1、什么是容器？

Java容器，Bean容器

所谓容器，就是类似一个罐子，能把特定的东西放进去。

Java容器 —— Java内部的容器类

比如ArrayList，能把Java对象放进去。

Bean容器

Bean，你把一个Java对象交给Spring就变成Bean了

比如BeanFactory，Spring放置Bean的地方。



1.2、Web容器

web，Java Web Application

比如tomcat，能把Javaweb应用放进去运行。

为什么能运行？

web应用，路由解析，底层是servlet，

web容器都实现了servlet，所以才能运行Java Web应用

servlet简介

考核点：继承关系、生命周期

理解点：接口，实现之后，必然有人调用——tomcat调用

实现servlet规范，是调起servlet里的方法，

实现接口是implements，是Java代码里实现接口里的方法。 

web容器

别称：servlet容器

举例：tomcat、jetty、Jboss、Resin、weblogic、websphere



1.3、nginx

nginx不是web容器，没有实现servlet规范

nginx和tomcat一样，是个web应用服务器



常见的nginx使用方式——反向代理

nginx+tomcat1  tomcat2  tomcat3 ...

同一个服务，部署了多台服务器，叫集群

tomcat上运行的都是同样的服务

nginx比如是一台单独的服务器，单独IP，域名一定绑定固定的IP，访问域名就能访问到nginx服务器。

拿到请求分发给其他服务器，就叫反向代理



为什么要用nginx做反向代理？

nginx可以高并发，tomcat不行









### 2、SpringBoot和tomcat

为什么开发中没安装tomcat？

SpringBoot内置了tomcat

nginx和SpringBoot结合的方式

nginx+SpringBoot1、SpringBoot2、SpringBoot3...

SpringBoot部署方式

打包Jar包

Jar包和war包

war包要放到web容器下才能运行的

Jar包不需要扔到web容器下面，可以单独运行





### 3、Linux自学目录

推荐网站：菜鸟教学

菜鸟教学：https://www.runoob.com/linux/linux-tutorial.html

进阶书籍：鸟哥的linux私房菜

目录：

linux简介和版本、linux启动过程、上机操作、文件和目录、

用户和用户组、常用操作命令、VI/VIM、yum和rpm

核心点：上机操作

公司最常用的Linux版本：CentOs



### 4、Linux文件/文件夹思想

linux：一切皆文件

命令、用户、硬盘、CPU、网络等等全部都是文件

除了文件就是文件夹——目录



### 5、用户、权限和常用操作命令

用户和权限

chmod 777    文件

第一个7——用户

第二个7——用户组

第三个7——其他用户

7=4+2+1=rwx

r=4=2^2  read

w=2=2^1  write

x=1=2^0   excute  对于目录，就是能进入，对于文件来讲，就是能移动、拷贝

对于命令这种文件，x没有，就是无法执行

chmod 755  

可不可能给一个文件赋两个w的权限？

5=1+4







常用命令

cd

pwd

ls (ll   ls -l)

cp scp 是 linux 系统下基于 ssh 登陆进行安全的远程文件拷贝命令。

scp

mv

mkdir

rm (rm -rf)  

find

grep

tail(tail -f  xxx.log  --lines=100)查看指令 -f 实时追踪该文档更新 --lines看多少行

vim

cat

ps(ps aux   ps ef)

top可以动态监控

kill(kill -9   kill -15)

w 用于显示目前登入系统的用户信息。

whereis 用于查找文件。

chmod修改文件目录的权限

chown修改文件所有者

df(df -h)显示目前在 Linux 系统上的文件系统磁盘使用情况统计。 -h使用人类可读的格式显示

du 显示目录或文件的大小

fdisk 给硬盘分区

useradd

groupadd

sudo

awk 是一种处理文本文件的语言，是一个强大的文本分析工具。

ifconfig

ping

wget

exit

reboot

shutdown

passwd





### 6、linux shell简介

操作linux的命令，全部都是shell命令

shell还能通过编程实现更复杂的操作，写出来的代码俗称shell脚本

shell种类

ash、bash、ksh、csh、zsh

bash shell，文件所在路径（/bin/bash或者/usr/bin/sh），CentOS

zsh，文件所在路径（bin/zsh），mac

查看shell   

echo $SHELL

cat /etc/shells

切换shell

切换bash： chsh -s /bin/bash
切换zsh： chsh -s /bin/zsh

在配置文件方面：

bash读取的配置文件：~/.bash_profile
zsh读取的配置文件：~/.zshrc



### 7、linux 管道讲解

ps aux|grep xxx

前面命令的结果作为参数传给后边的命令

左边命令的输出就变成了右边命令的输入

其他举例：

```bash
kill -s 9 `ps -aux | grep xxx | awk '{print $2}'`
```



### 8、阿里云或者腾讯云

通过学生优惠购买

上机操作

操作系统选择CentOS 7.9



### 9、作业

1、源码安装nginx Java mysql

把自己的程序部署在Linux服务器上

注意：reboot之后应用应该直接被拉起

2、安装Docker（不需要源码安装）

通过docker安装PhpMyAdmin，

通过PhpMyAdmin查看数据库

感受docker的强大，无需安装PHP、服务器等，一键部署
